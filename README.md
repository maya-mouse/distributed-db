#  LAB 2 — Основи Apache Cassandra для Моніторингу АЕС

##  Мета та Контекст

 **Тема :** Атомні електростанції України (4 реакторні блоки) |
**Мета :** Освоїти принципи проєктування **розподілених схем даних** у Cassandra |
**Завдання :** Створити схему для моніторингу показань реакторного блоку, системи охолодження та аналітичних зведень |
**Підваріант (Б) :** Порівняльний аналіз середньої потужності двох реакторних блоків |

---

##  Проєктування Схеми Даних

Проєктування базується на **денормалізації (дублюванні даних)**  
та принципі **Model-by-Query**, який використовується в Cassandra  
для забезпечення **високої швидкості читання**.

| Таблиця | Призначення | PRIMARY KEY Structure | Partition Key | Clustering Key |
|----------|--------------|-----------------------|----------------|----------------|
| **reactor_readings_by_block** | Поточні показання (Time Series) | `(reactor_block_id, timestamp)` | `reactor_block_id` *(групування за реактором)* | `timestamp DESC` *(останні записи на початку)* |
| **safety_summary_by_date** | Щоденні зведення | `(report_date, station_name, reactor_block_id)` | `report_date` *(групування за днями)* | `station_name, reactor_block_id` |

---

##  Результати Продуктивності та Аналіз

###  1. Швидкість Запису (Write Optimization)

| Операція | Кількість записів | Час | Висновок |
|-----------|------------------|------|-----------|
| Вставка (Batch) | **384** | **0.0655 с** |  *Write-Optimized System:* Cassandra демонструє надзвичайно високу швидкість запису — ідеально для IoT та енергетичних потоків. |

---

###  2. Швидкість Читання та Структура Ключа

| Операція | Час Читання | Partition Key (ПК) | Висновок |
|-----------|--------------|--------------------|-----------|
| Вибірка (Блок 1) | **0.0144 с** | `reactor_block_id` |  *Ефективність ПК:* Завдяки чітко визначеному Partition Key Cassandra одразу звертається до потрібного вузла, забезпечуючи мінімальну затримку. |

---

### 3. Підваріант Б — Порівняльний Аналіз

| Об'єкт Порівняння | Середня Потужність | Висновок |
|--------------------|--------------------|-----------|
| **Блок 1 (Rivne NPP)** | 948.36 МВт | |
| **Блок 3 (Zaporizhzhia NPP)** | 977.89 МВт | ⚡ *Блок 3 генерує більше енергії.* Різниця може бути пов’язана з **проєктною потужністю** реакторів. |

---

## Основні Висновки щодо Cassandra

- **Оптимальні Ключі для Time Series:**  
  Найкраща структура `PRIMARY KEY` — **(reactor_block_id, timestamp)**.  
  Забезпечує рівномірний розподіл навантаження і хронологічне впорядкування записів.

- **Денормалізація:**  
  Для уникнення повільних `JOIN`-операцій використовуються **кілька таблиць**, кожна оптимізована під конкретні запити.

- **Ключове Обмеження:**  
  Ефективність запиту **повністю залежить від Partition Key**.  
  Неможливо будувати довільні запити без попереднього проєктування.

- **Переваги для енергетики:**  
  Cassandra — ідеальна для **IoT / енергетичних систем**,  
  завдяки *високій швидкості запису*, *горизонтальному масштабуванню*  
  та *вбудованій відмовостійкості*.

---
