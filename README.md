# LAB 5 — Моніторинг та Алертинг Енергетичних Систем

## Опис лабораторної роботи

Лабораторна робота присвячена побудові **базової системи моніторингу та алертингу**  
для критичних часових рядів **атомних електростанцій (Варіант 5)**.

Основна мета — налаштувати інструментарій **Prometheus / Grafana**  
та перевірити роботу системи у режимі, орієнтованому на  
**продуктивність реактора (Підваріант Б)**, включаючи контроль  
**вигорання палива та ефективності**.

---

## Конфігурація та метрики

| Параметр | Опис |
|---------|------|
| **Система** | Атомна електростанція (4 реакторні блоки: Rivne-3/4, ZAP-5/6) |
| **Тип даних** | Технологічна телеметрія (щосекундні дані) |
| **Інструментарій** | Prometheus (збір метрик та алертинг), Grafana (візуалізація) |
| **Ключові метрики** | `reactor_power_mw`, `reactor_efficiency_pct`, `reactor_burnup_pct`, `reactor_usage_factor` |
| **Схема моніторингу** | Prometheus Managed Alerts та Grafana Managed Alerts (Expressions) |

---

## Результати моніторингу та аналіз

### 1. Візуалізація ключових метрик

| Панель | PromQL-запит | Значення (приклад) | Висновок |
|------|--------------|--------------------|----------|
| **Fuel Burnout** | `max(reactor_burnup_pct)` | **96.1%** | Критично. Паливо потребує перезавантаження (>90%) |
| **Utilization Rate** | `avg(reactor_usage_factor)` | **0.944** | Warning. Коефіцієнт використання нижче номінального (0.95) |
| **Reactor Efficiency** | `reactor_efficiency_pct` | **93.8%** (Rivne-3) | Warning. Падіння ефективності через високе вигорання палива |
| **History of Effectiveness** | `avg_over_time(reactor_efficiency_pct[1h])` | Тренд зниження | Підтверджено спільне зниження ефективності всіх блоків |

---

### 2. Тестування критичних алертів

Усі чотири заплановані алерти успішно спрацювали, що підтверджує  
надійність та коректність системи моніторингу.

| Алерт | Умова спрацювання | Стан (приклад) | Призначення |
|------|------------------|----------------|-------------|
| **FuelReloadNeeded** | `reactor_burnup_pct > 90` | FIRING (4 instances) | Критично. Сигнал про необхідність планової зупинки |
| **LowReactorEfficiency** | `avg_over_time(...) < 95` | FIRING (4 instances) | Warning. Сигнал про технологічну деградацію |
| **ProducerOffline** | Імітація зависання Producer на 90 с | FIRING (1 instance) | Критично. Виявлення повної втрати даних з АЕС |
| **Low Utilization Ratio** | IS BELOW 0.95 (Grafana Managed) | FIRING | Warning. Оперативний контроль недогенерації |

---

## Висновки та рекомендації

### I. Виконання фокусу B (Продуктивність)

Спроєктована система забезпечує **повний контроль життєвого циклу реактора**:

- **Контроль палива**  
  Акумулятивна симуляція *burn-up* та алерт  
  **FuelReloadNeeded** гарантують своєчасне попередження оператора  
  про завершення паливного циклу.

- **Прогнозування**  
  Використання функції `predict_linear()` дозволяє прогнозувати  
  момент досягнення порогових значень та заздалегідь планувати  
  зупинки для перезавантаження палива.

---

### II. Архітектурні рекомендації

- **Дворівневий алертинг**  
  Рекомендовано поєднувати:
  - Prometheus Managed Alerts — для критичних подій  
  - Grafana Managed Alerts — для аналітичних порогів

- **Надійність**  
  Підтримка Heartbeat-метрики (ProducerHeartbeat),  
  що використовується в алерті **ProducerOffline**,  
  є критичною для миттєвого виявлення втрати потоку даних.

- **Оптимальність запитів**  
  Для аналізу ефективності доцільно використовувати  
  агрегатні PromQL-функції (`avg_over_time`),  
  а не сирі часові ряди, що зменшує навантаження на Grafana.

---

